(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();const Ct=!1,$t=(t,e)=>t===e,P={equals:$t};let ut=gt;const T=1,U=2,ft={owned:null,cleanups:null,context:null,owner:null};var m=null;let Y=null,At=null,y=null,S=null,A=null,V=0;function _t(t,e){const n=y,r=m,o=t.length===0,i=e===void 0?r:e,l=o?ft:{owned:null,cleanups:null,context:i?i.context:null,owner:i},s=o?t:()=>t(()=>F(()=>q(l)));m=l,y=null;try{return L(s,!0)}finally{y=n,m=r}}function E(t,e){e=e?Object.assign({},P,e):P;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},r=o=>(typeof o=="function"&&(o=o(n.value)),ht(n,o));return[pt.bind(n),r]}function O(t,e,n){const r=Z(t,e,!1,T);N(r)}function dt(t,e,n){ut=Bt;const r=Z(t,e,!1,T);(!n||!n.render)&&(r.user=!0),A?A.push(r):N(r)}function Et(t,e,n){n=n?Object.assign({},P,n):P;const r=Z(t,e,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,N(r),pt.bind(r)}function F(t){if(y===null)return t();const e=y;y=null;try{return t()}finally{y=e}}function J(t){dt(()=>F(t))}function pt(){if(this.sources&&this.state)if(this.state===T)N(this);else{const t=S;S=null,L(()=>j(this),!1),S=t}if(y){const t=this.observers?this.observers.length:0;y.sources?(y.sources.push(this),y.sourceSlots.push(t)):(y.sources=[this],y.sourceSlots=[t]),this.observers?(this.observers.push(y),this.observerSlots.push(y.sources.length-1)):(this.observers=[y],this.observerSlots=[y.sources.length-1])}return this.value}function ht(t,e,n){let r=t.value;return(!t.comparator||!t.comparator(r,e))&&(t.value=e,t.observers&&t.observers.length&&L(()=>{for(let o=0;o<t.observers.length;o+=1){const i=t.observers[o],l=Y&&Y.running;l&&Y.disposed.has(i),(l?!i.tState:!i.state)&&(i.pure?S.push(i):A.push(i),i.observers&&wt(i)),l||(i.state=T)}if(S.length>1e6)throw S=[],new Error},!1)),e}function N(t){if(!t.fn)return;q(t);const e=V;Tt(t,t.value,e)}function Tt(t,e,n){let r;const o=m,i=y;y=m=t;try{r=t.fn(e)}catch(l){return t.pure&&(t.state=T,t.owned&&t.owned.forEach(q),t.owned=null),t.updatedAt=n+1,xt(l)}finally{y=i,m=o}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?ht(t,r):t.value=r,t.updatedAt=n)}function Z(t,e,n,r=T,o){const i={fn:t,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:m,context:m?m.context:null,pure:n};return m===null||m!==ft&&(m.owned?m.owned.push(i):m.owned=[i]),i}function z(t){if(t.state===0)return;if(t.state===U)return j(t);if(t.suspense&&F(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<V);)t.state&&e.push(t);for(let n=e.length-1;n>=0;n--)if(t=e[n],t.state===T)N(t);else if(t.state===U){const r=S;S=null,L(()=>j(t,e[0]),!1),S=r}}function L(t,e){if(S)return t();let n=!1;e||(S=[]),A?n=!0:A=[],V++;try{const r=t();return Dt(n),r}catch(r){n||(A=null),S=null,xt(r)}}function Dt(t){if(S&&(gt(S),S=null),t)return;const e=A;A=null,e.length&&L(()=>ut(e),!1)}function gt(t){for(let e=0;e<t.length;e++)z(t[e])}function Bt(t){let e,n=0;for(e=0;e<t.length;e++){const r=t[e];r.user?t[n++]=r:z(r)}for(e=0;e<n;e++)z(t[e])}function j(t,e){t.state=0;for(let n=0;n<t.sources.length;n+=1){const r=t.sources[n];if(r.sources){const o=r.state;o===T?r!==e&&(!r.updatedAt||r.updatedAt<V)&&z(r):o===U&&j(r,e)}}}function wt(t){for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];n.state||(n.state=U,n.pure?S.push(n):A.push(n),n.observers&&wt(n))}}function q(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),r=t.sourceSlots.pop(),o=n.observers;if(o&&o.length){const i=o.pop(),l=n.observerSlots.pop();r<o.length&&(i.sourceSlots[l]=r,o[r]=i,n.observerSlots[r]=l)}}if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)q(t.tOwned[e]);delete t.tOwned}if(t.owned){for(e=t.owned.length-1;e>=0;e--)q(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function It(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function xt(t,e=m){throw It(t)}function X(t,e){return F(()=>t(e||{}))}const R=t=>Et(()=>t());function Mt(t,e,n){let r=n.length,o=e.length,i=r,l=0,s=0,u=e[o-1].nextSibling,h=null;for(;l<o||s<i;){if(e[l]===n[s]){l++,s++;continue}for(;e[o-1]===n[i-1];)o--,i--;if(o===l){const w=i<r?s?n[s-1].nextSibling:n[i-s]:u;for(;s<i;)t.insertBefore(n[s++],w)}else if(i===s)for(;l<o;)(!h||!h.has(e[l]))&&e[l].remove(),l++;else if(e[l]===n[i-1]&&n[s]===e[o-1]){const w=e[--o].nextSibling;t.insertBefore(n[s++],e[l++].nextSibling),t.insertBefore(n[--i],w),e[o]=n[i]}else{if(!h){h=new Map;let a=s;for(;a<i;)h.set(n[a],a++)}const w=h.get(e[l]);if(w!=null)if(s<w&&w<i){let a=l,d=1,g;for(;++a<o&&a<i&&!((g=h.get(e[a]))==null||g!==w+d);)d++;if(d>w-s){const c=e[l];for(;s<w;)t.insertBefore(n[s++],c)}else t.replaceChild(n[s++],e[l++])}else l++;else e[l++].remove()}}}const ot="_$DX_DELEGATE";function kt(t,e,n,r={}){let o;return _t(i=>{o=i,e===document?t():C(e,t(),e.firstChild?null:void 0,n)},r.owner),()=>{o(),e.textContent=""}}function _(t,e,n,r){let o;const i=()=>{const s=r?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return s.innerHTML=t,n?s.content.firstChild.firstChild:r?s.firstChild:s.content.firstChild},l=e?()=>F(()=>document.importNode(o||(o=i()),!0)):()=>(o||(o=i())).cloneNode(!0);return l.cloneNode=l,l}function tt(t,e=window.document){const n=e[ot]||(e[ot]=new Set);for(let r=0,o=t.length;r<o;r++){const i=t[r];n.has(i)||(n.add(i),e.addEventListener(i,qt))}}function Rt(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function Ot(t,e,n){if(!e)return n?Rt(t,"style"):e;const r=t.style;if(typeof e=="string")return r.cssText=e;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),e||(e={});let o,i;for(i in n)e[i]==null&&r.removeProperty(i),delete n[i];for(i in e)o=e[i],o!==n[i]&&(r.setProperty(i,o),n[i]=o);return n}function C(t,e,n,r){if(n!==void 0&&!r&&(r=[]),typeof e!="function")return H(t,e,r,n);O(o=>H(t,e(),o,n),r)}function qt(t){let e=t.target;const n=`$$${t.type}`,r=t.target,o=t.currentTarget,i=u=>Object.defineProperty(t,"target",{configurable:!0,value:u}),l=()=>{const u=e[n];if(u&&!e.disabled){const h=e[`${n}Data`];if(h!==void 0?u.call(e,h,t):u.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(t.target)&&i(e.host),!0},s=()=>{for(;l()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}}),t.composedPath){const u=t.composedPath();i(u[0]);for(let h=0;h<u.length-2&&(e=u[h],!!l());h++){if(e._$host){e=e._$host,s();break}if(e.parentNode===o)break}}else s();i(r)}function H(t,e,n,r,o){for(;typeof n=="function";)n=n();if(e===n)return n;const i=typeof e,l=r!==void 0;if(t=l&&n[0]&&n[0].parentNode||t,i==="string"||i==="number"){if(i==="number"&&(e=e.toString(),e===n))return n;if(l){let s=n[0];s&&s.nodeType===3?s.data!==e&&(s.data=e):s=document.createTextNode(e),n=B(t,n,r,s)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||i==="boolean")n=B(t,n,r);else{if(i==="function")return O(()=>{let s=e();for(;typeof s=="function";)s=s();n=H(t,s,n,r)}),()=>n;if(Array.isArray(e)){const s=[],u=n&&Array.isArray(n);if(Q(s,e,n,o))return O(()=>n=H(t,s,n,r,!0)),()=>n;if(s.length===0){if(n=B(t,n,r),l)return n}else u?n.length===0?rt(t,s,r):Mt(t,n,s):(n&&B(t),rt(t,s));n=s}else if(e.nodeType){if(Array.isArray(n)){if(l)return n=B(t,n,r,e);B(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function Q(t,e,n,r){let o=!1;for(let i=0,l=e.length;i<l;i++){let s=e[i],u=n&&n[t.length],h;if(!(s==null||s===!0||s===!1))if((h=typeof s)=="object"&&s.nodeType)t.push(s);else if(Array.isArray(s))o=Q(t,s,u)||o;else if(h==="function")if(r){for(;typeof s=="function";)s=s();o=Q(t,Array.isArray(s)?s:[s],Array.isArray(u)?u:[u])||o}else t.push(s),o=!0;else{const w=String(s);u&&u.nodeType===3&&u.data===w?t.push(u):t.push(document.createTextNode(w))}}return o}function rt(t,e,n=null){for(let r=0,o=e.length;r<o;r++)t.insertBefore(e[r],n)}function B(t,e,n,r){if(n===void 0)return t.textContent="";const o=r||document.createTextNode("");if(e.length){let i=!1;for(let l=e.length-1;l>=0;l--){const s=e[l];if(o!==s){const u=s.parentNode===t;!i&&!l?u?t.replaceChild(o,s):t.insertBefore(o,n):u&&s.remove()}else i=!0}}else t.insertBefore(o,n);return[o]}var W={};Object.defineProperty(W,"__esModule",{value:!0});var M=W.Grade=void 0,Ft=W.createDeck=Lt,k;(function(t){t[t.AGAIN=1]="AGAIN",t[t.HARD=2]="HARD",t[t.GOOD=3]="GOOD",t[t.EASY=4]="EASY"})(k||(M=W.Grade=k={}));const it=-.5,st=19/81,Nt=[.40255,1.18385,3.173,15.69105,7.1949,.5345,1.4604,.0046,1.54575,.1192,1.01925,1.9395,.11,.29605,2.2698,.2315,2.9898,.51655,.6621],K={requestedRetentionRate:.9,w:[...Nt],maxStability:36500},I=(t,e,n)=>Math.max(e,Math.min(n,t));function Lt(t={}){var e,n,r;const o=(e=t.w)!==null&&e!==void 0?e:K.w;if(o.length!==19)throw new Error("FSRS-5 expects a w-array of length 19.");const i=(n=t.requestedRetentionRate)!==null&&n!==void 0?n:K.requestedRetentionRate;if(i<=0||i>1)throw new Error("requestedRetentionRate must lie in (0, 1].");if(o[7]<0||o[7]>1)throw new Error("w[7] must lie in the range 0 ... 1 for mean-reversion.");const l=(r=t.maxStability)!==null&&r!==void 0?r:K.maxStability,s=(c,p)=>Math.pow(1+st*(c/p),it),u=(c,p)=>{const x=p/st*(Math.pow(c,1/it)-1);return Math.max(1,x)},h=c=>o[c-1],w=c=>{const p=o[4]-Math.exp(o[5]*(c-1))+1;return I(p,1,10)},a=(c,p)=>{const x=-o[6]*(p-3),b=c+x*((10-c)/9),v=w(k.EASY),$=o[7]*v+(1-o[7])*b;return I($,1,10)},d=(c,p,x,b)=>{const v=b===k.HARD?o[15]:1,$=b===k.EASY?o[16]:1,D=Math.exp(o[8])*(11-c)*Math.pow(p,-o[9])*(Math.exp((1-x)*o[10])-1)*v*$;return I(p*(1+D),0,l)},g=(c,p,x)=>{const b=o[11]*Math.pow(c,-o[12])*(Math.pow(p+1,o[13])-1)*Math.exp((1-x)*o[14]);return I(b,0,l)};return{newCard(c){const p=w(c),x=I(h(c),0,l),b=u(i,x);return{D:p,S:x,I:b}},gradeCard(c,p,x){const b=a(c.D,x);let v;if(p<1)v=c.S*Math.exp(o[17]*(x-3+o[18]));else{const D=s(p,c.S);v=x===k.AGAIN?g(b,c.S,D):d(b,c.S,D,x)}const $=u(i,I(v,0,l));return{D:b,S:v,I:$}}}}const{newCard:Pt,gradeCard:Ut}=Ft();function yt(t){if(!t||typeof t!="string")return[];const e=t.trim().split(`
`).filter(r=>r&&typeof r=="string"&&r.trim());return e.length===0?[]:(e[0].includes("	")&&(e[0].toLowerCase().includes("question")||e[0].toLowerCase().includes("–≤–æ–ø—Ä–æ—Å"))?e.slice(1):e).map(r=>{const o=r.split("	"),i=o[0]||"",l=o[1]||"";return o.length>=5&&o[2]&&o[3]&&o[4]?{question:i,answer:l,D:parseFloat(o[2]),S:parseFloat(o[3]),I:parseFloat(o[4])}:{question:i,answer:l}})}function bt(t){const e="question	answer	D	S	I",n=t.map(r=>{var i,l,s;return[r.question,r.answer,((i=r.D)==null?void 0:i.toString())||"",((l=r.S)==null?void 0:l.toString())||"",((s=r.I)==null?void 0:s.toString())||""].join("	")});return[e,...n].join(`
`)}function lt(t){return t.filter(e=>(e.I,!0))}function zt(t,e){const n={again:M.AGAIN,hard:M.HARD,good:M.GOOD,easy:M.EASY};let r;t.D!==void 0&&t.S!==void 0&&t.I!==void 0?r={D:t.D,S:t.S,I:t.I}:r=Pt(M.GOOD);const i=Ut(r,1,n[e]);return{question:t.question,answer:t.answer,D:i.D,S:i.S,I:i.I}}var ct;const f=(ct=window.Telegram)==null?void 0:ct.WebApp;function jt(){return f?[`Version: ${f.version||"unknown"}`,`Platform: ${f.platform||"unknown"}`,`CloudStorage: ${G()?"supported":"not supported"}`,`MainButton: ${f.MainButton?"available":"not available"}`,`BackButton: ${f.BackButton?"available":"not available"}`].join(", "):"Telegram WebApp not available"}function Ht(){f?(console.log("Telegram WebApp Debug:",jt()),f.ready(),f.expand()):console.warn("Telegram WebApp not available - running in browser mode")}function G(){return!!(f!=null&&f.CloudStorage&&typeof f.CloudStorage.setItem=="function"&&typeof f.CloudStorage.getItem=="function")}async function Vt(t,e){try{G()?await f.CloudStorage.setItem(t,e):localStorage.setItem(t,e)}catch(n){console.warn("CloudStorage failed, using localStorage:",n),localStorage.setItem(t,e)}}async function Wt(t){try{if(G()){const e=await f.CloudStorage.getItem(t);return(typeof e=="string"?e:"")||""}else return localStorage.getItem(t)||""}catch(e){return console.warn("CloudStorage failed, using localStorage:",e),localStorage.getItem(t)||""}}function St(t,e){f!=null&&f.MainButton&&(f.MainButton.text=t,f.MainButton.onClick(e),f.MainButton.show())}function at(){f!=null&&f.MainButton&&f.MainButton.hide()}function Gt(t){f!=null&&f.BackButton&&(f.BackButton.onClick(t),f.BackButton.show())}function Yt(){f!=null&&f.BackButton&&f.BackButton.hide()}var Kt=_("<div style=padding:20px;text-align:center;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh><h2>üéâ –ù–µ—Ç –∫–∞—Ä—Ç–æ—á–µ–∫ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è!</h2><p>–í—Å–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –∏–∑—É—á–µ–Ω—ã. –í–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ—Å—å –ø–æ–∑–∂–µ –∏–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–µ.</p><p style=color:#666;font-size:14px;margin-top:10px>–í—Å–µ–≥–æ –∫–∞—Ä—Ç–æ—á–µ–∫: "),Xt=_('<div style=padding:20px;display:flex;flex-direction:column;height:100vh><div style=margin-bottom:10px;text-align:center;color:#666><span> / </span></div><div style="background:white;border:1px solid #ddd;border-radius:8px;padding:20px;margin-bottom:20px;min-height:200px;display:flex;align-items:center;justify-content:center;text-align:center;cursor:pointer;box-shadow:0 2px 4px rgba(0,0,0,0.1);flex-grow:1"><div><div style=font-size:18px;margin-bottom:20px>'),Qt=_('<div style="font-size:16px;color:#666;border-top:1px solid #eee;padding-top:20px">'),Jt=_("<div style=color:#999;font-size:14px>–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –æ—Ç–≤–µ—Ç"),Zt=_('<div style="display:grid;grid-template-columns:1fr 1fr;gap:10px"><button style=padding:15px;background:#ff4444;color:white;border:none;border-radius:6px;cursor:pointer;font-size:16px>–°–Ω–æ–≤–∞</button><button style=padding:15px;background:#ff9944;color:white;border:none;border-radius:6px;cursor:pointer;font-size:16px>–¢—Ä—É–¥–Ω–æ</button><button style=padding:15px;background:#44aa44;color:white;border:none;border-radius:6px;cursor:pointer;font-size:16px>–•–æ—Ä–æ—à–æ</button><button style=padding:15px;background:#4444aa;color:white;border:none;border-radius:6px;cursor:pointer;font-size:16px>–õ–µ–≥–∫–æ');const te=t=>{const[e,n]=E([]),[r,o]=E(0),[i,l]=E(!1);dt(()=>{const a=lt(t.cards);n(a),o(0),l(!1)}),J(()=>{St("–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å",t.onSwitchToEdit)});const s=()=>e()[r()],u=()=>{i()||l(!0)},h=a=>{const d=s();if(!d)return;const g=zt(d,a),c=t.cards.findIndex(p=>p.question===d.question&&p.answer===d.answer);if(c!==-1&&t.onCardUpdated(g,c),r()<e().length-1)o(r()+1),l(!1);else{const p=lt(t.cards);n(p),o(0),l(!1)}};if(e().length===0)return(()=>{var a=Kt(),d=a.firstChild,g=d.nextSibling,c=g.nextSibling;return c.firstChild,C(c,()=>t.cards.length,null),a})();const w=s();return w?(()=>{var a=Xt(),d=a.firstChild,g=d.firstChild,c=g.firstChild,p=d.nextSibling,x=p.firstChild,b=x.firstChild;return C(g,()=>r()+1,c),C(g,()=>e().length,null),p.$$click=u,C(b,()=>w.question),C(x,(()=>{var v=R(()=>!!i());return()=>v()&&(()=>{var $=Qt();return C($,()=>w.answer),$})()})(),null),C(x,(()=>{var v=R(()=>!i());return()=>v()&&Jt()})(),null),C(a,(()=>{var v=R(()=>!!i());return()=>v()&&(()=>{var $=Zt(),D=$.firstChild,et=D.nextSibling,nt=et.nextSibling,vt=nt.nextSibling;return D.$$click=()=>h("again"),et.$$click=()=>h("hard"),nt.$$click=()=>h("good"),vt.$$click=()=>h("easy"),$})()})(),null),a})():null};tt(["click"]);var ee=_(`<div style=padding:20px;display:flex;flex-direction:column;height:100vh><h2 style=margin-bottom:10px>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏</h2><div style=margin-bottom:15px;font-size:14px;color:#666><div style=margin-bottom:5px><strong>–§–æ—Ä–º–∞—Ç:</strong> –í–æ–ø—Ä–æ—Å [TAB] –û—Ç–≤–µ—Ç [TAB] –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ...</div><div style=margin-bottom:5px>–ü—É—Å—Ç—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ = –Ω–æ–≤–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞</div><div style=font-size:12px;color:#999>üíæ –•—Ä–∞–Ω–µ–Ω–∏–µ: </div></div><textarea placeholder="question	answer	D	S	I
Hello	–ü—Ä–∏–≤–µ—Ç			
World	–ú–∏—Ä			
Cat	–ö–æ—Ç			"style="flex-grow:1;width:100%;padding:10px;font-family:monospace;font-size:12px;border:1px solid #ddd;border-radius:4px;resize:none;margin-bottom:15px"></textarea><button class=save-feedback>`);const ne=t=>{const[e,n]=E(""),[r,o]=E(!1);J(()=>{const l=t.cards.length>0?bt(t.cards):`question	answer	D	S	I
Hello	–ü—Ä–∏–≤–µ—Ç			
World	–ú–∏—Ä			
Cat	–ö–æ—Ç			`;n(l),Gt(t.onSwitchToStudy),St("–°–æ—Ö—Ä–∞–Ω–∏—Ç—å",i)});const i=async()=>{o(!0);try{const l=yt(e());await t.onCardsUpdated(l);const s=document.querySelector(".save-feedback");s&&(s.textContent="–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ ‚úì",setTimeout(()=>{s.textContent="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"},2e3))}catch(l){console.error("Error saving cards:",l),alert("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö")}o(!1)};return(()=>{var l=ee(),s=l.firstChild,u=s.nextSibling,h=u.firstChild,w=h.nextSibling,a=w.nextSibling;a.firstChild;var d=u.nextSibling,g=d.nextSibling;return C(a,()=>G()?"Telegram Cloud":"–õ–æ–∫–∞–ª—å–Ω–æ–µ",null),d.$$input=c=>n(c.currentTarget.value),g.$$click=i,C(g,()=>r()?"–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...":"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"),O(c=>{var p=r(),x=`padding: 15px; background: ${r()?"#ccc":"#007AFF"}; color: white; border: none; border-radius: 6px; cursor: ${r()?"not-allowed":"pointer"}; font-size: 16px;`;return p!==c.e&&(g.disabled=c.e=p),c.t=Ot(g,x,c.t),c},{e:void 0,t:void 0}),O(()=>d.value=e()),l})()};tt(["input","click"]);const mt="cards";async function oe(t){await Vt(mt,t)}async function re(){return await Wt(mt)}var ie=_('<div style=display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;text-align:center;padding:20px;background:#f5f5f5><div style=font-size:48px;margin-bottom:20px>üìö</div><div style=font-size:18px;margin-bottom:10px>–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫...</div><div style=font-size:14px;color:#666>–ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ–º –≤–∞—à–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è</div><button style="margin-top:30px;padding:12px 24px;background:#007AFF;color:white;border:none;border-radius:8px;cursor:pointer;font-size:16px">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –±–µ–∑ –æ–∂–∏–¥–∞–Ω–∏—è'),se=_('<div style="color:#ff6b6b;margin-top:20px;font-size:14px;background:#fff;padding:12px;border-radius:8px;border:1px solid #ffcdd2;max-width:300px">'),le=_("<div style=min-height:100vh;background:#f5f5f5>");const ae=()=>{const[t,e]=E("loading"),[n,r]=E([]),[o,i]=E("");J(async()=>{try{Ht(),await l(),setTimeout(()=>{e("study")},1e3)}catch(a){console.error("Initialization error:",a),i("–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏"),setTimeout(()=>{e("study")},2e3)}});const l=async()=>{try{const a=await re();if(a&&typeof a=="string"&&a.trim()){const g=yt(a);if(g.length>0){r(g);return}}r([{question:"Hello",answer:"–ü—Ä–∏–≤–µ—Ç"},{question:"World",answer:"–ú–∏—Ä"},{question:"Cat",answer:"–ö–æ—Ç"}])}catch(a){console.error("Error loading cards:",a),i("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö"),r([{question:"Hello",answer:"–ü—Ä–∏–≤–µ—Ç"},{question:"World",answer:"–ú–∏—Ä"},{question:"Cat",answer:"–ö–æ—Ç"}])}},s=async a=>{r(a);try{const d=bt(a);await oe(d)}catch(d){console.error("Error saving cards:",d),i("–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö")}},u=async(a,d)=>{const g=[...n()];g[d]=a,await s(g)},h=()=>{at(),e("edit")},w=()=>{at(),Yt(),e("study")};return t()==="loading"?(()=>{var a=ie(),d=a.firstChild,g=d.nextSibling,c=g.nextSibling,p=c.nextSibling;return C(a,(()=>{var x=R(()=>!!o());return()=>x()&&(()=>{var b=se();return C(b,o),b})()})(),p),p.$$click=()=>e("study"),a})():(()=>{var a=le();return C(a,(()=>{var d=R(()=>t()==="study");return()=>d()?X(te,{get cards(){return n()},onCardUpdated:u,onSwitchToEdit:h}):X(ne,{get cards(){return n()},onCardsUpdated:s,onSwitchToStudy:w})})()),a})()};tt(["click"]);const ce=document.getElementById("root");kt(()=>X(ae,{}),ce);
