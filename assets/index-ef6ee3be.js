(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();const Bt=!1,Mt=(t,e)=>t===e,V={equals:Mt};let xt=St;const B=1,j=2,bt={owned:null,cleanups:null,context:null,owner:null};var _=null;let J=null,Rt=null,S=null,$=null,D=null,Y=0;function qt(t,e){const n=S,i=_,o=t.length===0,r=e===void 0?i:e,l=o?bt:{owned:null,cleanups:null,context:r?r.context:null,owner:r},s=o?t:()=>t(()=>P(()=>N(l)));_=l,S=null;try{return z(s,!0)}finally{S=n,_=i}}function E(t,e){e=e?Object.assign({},V,e):V;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},i=o=>(typeof o=="function"&&(o=o(n.value)),mt(n,o));return[yt.bind(n),i]}function F(t,e,n){const i=ot(t,e,!1,B);U(i)}function wt(t,e,n){xt=Nt;const i=ot(t,e,!1,B);(!n||!n.render)&&(i.user=!0),D?D.push(i):U(i)}function Ot(t,e,n){n=n?Object.assign({},V,n):V;const i=ot(t,e,!0,0);return i.observers=null,i.observerSlots=null,i.comparator=n.equals||void 0,U(i),yt.bind(i)}function P(t){if(S===null)return t();const e=S;S=null;try{return t()}finally{S=e}}function nt(t){wt(()=>P(t))}function yt(){if(this.sources&&this.state)if(this.state===B)U(this);else{const t=$;$=null,z(()=>H(this),!1),$=t}if(S){const t=this.observers?this.observers.length:0;S.sources?(S.sources.push(this),S.sourceSlots.push(t)):(S.sources=[this],S.sourceSlots=[t]),this.observers?(this.observers.push(S),this.observerSlots.push(S.sources.length-1)):(this.observers=[S],this.observerSlots=[S.sources.length-1])}return this.value}function mt(t,e,n){let i=t.value;return(!t.comparator||!t.comparator(i,e))&&(t.value=e,t.observers&&t.observers.length&&z(()=>{for(let o=0;o<t.observers.length;o+=1){const r=t.observers[o],l=J&&J.running;l&&J.disposed.has(r),(l?!r.tState:!r.state)&&(r.pure?$.push(r):D.push(r),r.observers&&vt(r)),l||(r.state=B)}if($.length>1e6)throw $=[],new Error},!1)),e}function U(t){if(!t.fn)return;N(t);const e=Y;Lt(t,t.value,e)}function Lt(t,e,n){let i;const o=_,r=S;S=_=t;try{i=t.fn(e)}catch(l){return t.pure&&(t.state=B,t.owned&&t.owned.forEach(N),t.owned=null),t.updatedAt=n+1,$t(l)}finally{S=r,_=o}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?mt(t,i):t.value=i,t.updatedAt=n)}function ot(t,e,n,i=B,o){const r={fn:t,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:_,context:_?_.context:null,pure:n};return _===null||_!==bt&&(_.owned?_.owned.push(r):_.owned=[r]),r}function W(t){if(t.state===0)return;if(t.state===j)return H(t);if(t.suspense&&P(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<Y);)t.state&&e.push(t);for(let n=e.length-1;n>=0;n--)if(t=e[n],t.state===B)U(t);else if(t.state===j){const i=$;$=null,z(()=>H(t,e[0]),!1),$=i}}function z(t,e){if($)return t();let n=!1;e||($=[]),D?n=!0:D=[],Y++;try{const i=t();return Ft(n),i}catch(i){n||(D=null),$=null,$t(i)}}function Ft(t){if($&&(St($),$=null),t)return;const e=D;D=null,e.length&&z(()=>xt(e),!1)}function St(t){for(let e=0;e<t.length;e++)W(t[e])}function Nt(t){let e,n=0;for(e=0;e<t.length;e++){const i=t[e];i.user?t[n++]=i:W(i)}for(e=0;e<n;e++)W(t[e])}function H(t,e){t.state=0;for(let n=0;n<t.sources.length;n+=1){const i=t.sources[n];if(i.sources){const o=i.state;o===B?i!==e&&(!i.updatedAt||i.updatedAt<Y)&&W(i):o===j&&H(i,e)}}}function vt(t){for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];n.state||(n.state=j,n.pure?$.push(n):D.push(n),n.observers&&vt(n))}}function N(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),i=t.sourceSlots.pop(),o=n.observers;if(o&&o.length){const r=o.pop(),l=n.observerSlots.pop();i<o.length&&(r.sourceSlots[l]=i,o[i]=r,n.observerSlots[i]=l)}}if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)N(t.tOwned[e]);delete t.tOwned}if(t.owned){for(e=t.owned.length-1;e>=0;e--)N(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function Pt(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function $t(t,e=_){throw Pt(t)}function tt(t,e){return P(()=>t(e||{}))}const L=t=>Ot(()=>t());function Ut(t,e,n){let i=n.length,o=e.length,r=i,l=0,s=0,d=e[o-1].nextSibling,h=null;for(;l<o||s<r;){if(e[l]===n[s]){l++,s++;continue}for(;e[o-1]===n[r-1];)o--,r--;if(o===l){const b=r<i?s?n[s-1].nextSibling:n[r-s]:d;for(;s<r;)t.insertBefore(n[s++],b)}else if(r===s)for(;l<o;)(!h||!h.has(e[l]))&&e[l].remove(),l++;else if(e[l]===n[r-1]&&n[s]===e[o-1]){const b=e[--o].nextSibling;t.insertBefore(n[s++],e[l++].nextSibling),t.insertBefore(n[--r],b),e[o]=n[r]}else{if(!h){h=new Map;let x=s;for(;x<r;)h.set(n[x],x++)}const b=h.get(e[l]);if(b!=null)if(s<b&&b<r){let x=l,w=1,m;for(;++x<o&&x<r&&!((m=h.get(e[x]))==null||m!==b+w);)w++;if(w>b-s){const c=e[l];for(;s<b;)t.insertBefore(n[s++],c)}else t.replaceChild(n[s++],e[l++])}else l++;else e[l++].remove()}}}const ct="_$DX_DELEGATE";function zt(t,e,n,i={}){let o;return qt(r=>{o=r,e===document?t():y(e,t(),e.firstChild?null:void 0,n)},i.owner),()=>{o(),e.textContent=""}}function A(t,e,n,i){let o;const r=()=>{const s=i?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return s.innerHTML=t,n?s.content.firstChild.firstChild:i?s.firstChild:s.content.firstChild},l=e?()=>P(()=>document.importNode(o||(o=r()),!0)):()=>(o||(o=r())).cloneNode(!0);return l.cloneNode=l,l}function it(t,e=window.document){const n=e[ct]||(e[ct]=new Set);for(let i=0,o=t.length;i<o;i++){const r=t[i];n.has(r)||(n.add(r),e.addEventListener(r,Wt))}}function Vt(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function jt(t,e,n){if(!e)return n?Vt(t,"style"):e;const i=t.style;if(typeof e=="string")return i.cssText=e;typeof n=="string"&&(i.cssText=n=void 0),n||(n={}),e||(e={});let o,r;for(r in n)e[r]==null&&i.removeProperty(r),delete n[r];for(r in e)o=e[r],o!==n[r]&&(i.setProperty(r,o),n[r]=o);return n}function y(t,e,n,i){if(n!==void 0&&!i&&(i=[]),typeof e!="function")return G(t,e,i,n);F(o=>G(t,e(),o,n),i)}function Wt(t){let e=t.target;const n=`$$${t.type}`,i=t.target,o=t.currentTarget,r=d=>Object.defineProperty(t,"target",{configurable:!0,value:d}),l=()=>{const d=e[n];if(d&&!e.disabled){const h=e[`${n}Data`];if(h!==void 0?d.call(e,h,t):d.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(t.target)&&r(e.host),!0},s=()=>{for(;l()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}}),t.composedPath){const d=t.composedPath();r(d[0]);for(let h=0;h<d.length-2&&(e=d[h],!!l());h++){if(e._$host){e=e._$host,s();break}if(e.parentNode===o)break}}else s();r(i)}function G(t,e,n,i,o){for(;typeof n=="function";)n=n();if(e===n)return n;const r=typeof e,l=i!==void 0;if(t=l&&n[0]&&n[0].parentNode||t,r==="string"||r==="number"){if(r==="number"&&(e=e.toString(),e===n))return n;if(l){let s=n[0];s&&s.nodeType===3?s.data!==e&&(s.data=e):s=document.createTextNode(e),n=M(t,n,i,s)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||r==="boolean")n=M(t,n,i);else{if(r==="function")return F(()=>{let s=e();for(;typeof s=="function";)s=s();n=G(t,s,n,i)}),()=>n;if(Array.isArray(e)){const s=[],d=n&&Array.isArray(n);if(et(s,e,n,o))return F(()=>n=G(t,s,n,i,!0)),()=>n;if(s.length===0){if(n=M(t,n,i),l)return n}else d?n.length===0?ut(t,s,i):Ut(t,n,s):(n&&M(t),ut(t,s));n=s}else if(e.nodeType){if(Array.isArray(n)){if(l)return n=M(t,n,i,e);M(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function et(t,e,n,i){let o=!1;for(let r=0,l=e.length;r<l;r++){let s=e[r],d=n&&n[t.length],h;if(!(s==null||s===!0||s===!1))if((h=typeof s)=="object"&&s.nodeType)t.push(s);else if(Array.isArray(s))o=et(t,s,d)||o;else if(h==="function")if(i){for(;typeof s=="function";)s=s();o=et(t,Array.isArray(s)?s:[s],Array.isArray(d)?d:[d])||o}else t.push(s),o=!0;else{const b=String(s);d&&d.nodeType===3&&d.data===b?t.push(d):t.push(document.createTextNode(b))}}return o}function ut(t,e,n=null){for(let i=0,o=e.length;i<o;i++)t.insertBefore(e[i],n)}function M(t,e,n,i){if(n===void 0)return t.textContent="";const o=i||document.createTextNode("");if(e.length){let r=!1;for(let l=e.length-1;l>=0;l--){const s=e[l];if(o!==s){const d=s.parentNode===t;!r&&!l?d?t.replaceChild(o,s):t.insertBefore(o,n):d&&s.remove()}else r=!0}}else t.insertBefore(o,n);return[o]}var K={};Object.defineProperty(K,"__esModule",{value:!0});var q=K.Grade=void 0,Ht=K.createDeck=Yt,O;(function(t){t[t.AGAIN=1]="AGAIN",t[t.HARD=2]="HARD",t[t.GOOD=3]="GOOD",t[t.EASY=4]="EASY"})(O||(q=K.Grade=O={}));const dt=-.5,ft=19/81,Gt=[.40255,1.18385,3.173,15.69105,7.1949,.5345,1.4604,.0046,1.54575,.1192,1.01925,1.9395,.11,.29605,2.2698,.2315,2.9898,.51655,.6621],Z={requestedRetentionRate:.9,w:[...Gt],maxStability:36500},R=(t,e,n)=>Math.max(e,Math.min(n,t));function Yt(t={}){var e,n,i;const o=(e=t.w)!==null&&e!==void 0?e:Z.w;if(o.length!==19)throw new Error("FSRS-5 expects a w-array of length 19.");const r=(n=t.requestedRetentionRate)!==null&&n!==void 0?n:Z.requestedRetentionRate;if(r<=0||r>1)throw new Error("requestedRetentionRate must lie in (0, 1].");if(o[7]<0||o[7]>1)throw new Error("w[7] must lie in the range 0 ... 1 for mean-reversion.");const l=(i=t.maxStability)!==null&&i!==void 0?i:Z.maxStability,s=(c,g)=>Math.pow(1+ft*(c/g),dt),d=(c,g)=>{const a=g/ft*(Math.pow(c,1/dt)-1);return Math.max(1,a)},h=c=>o[c-1],b=c=>{const g=o[4]-Math.exp(o[5]*(c-1))+1;return R(g,1,10)},x=(c,g)=>{const a=-o[6]*(g-3),u=c+a*((10-c)/9),p=b(O.EASY),v=o[7]*p+(1-o[7])*u;return R(v,1,10)},w=(c,g,a,u)=>{const p=u===O.HARD?o[15]:1,v=u===O.EASY?o[16]:1,C=Math.exp(o[8])*(11-c)*Math.pow(g,-o[9])*(Math.exp((1-a)*o[10])-1)*p*v;return R(g*(1+C),0,l)},m=(c,g,a)=>{const u=o[11]*Math.pow(c,-o[12])*(Math.pow(g+1,o[13])-1)*Math.exp((1-a)*o[14]);return R(u,0,l)};return{newCard(c){const g=b(c),a=R(h(c),0,l),u=d(r,a);return{D:g,S:a,I:u}},gradeCard(c,g,a){const u=x(c.D,a);let p;if(g<1)p=c.S*Math.exp(o[17]*(a-3+o[18]));else{const C=s(g,c.S);p=a===O.AGAIN?m(u,c.S,C):w(u,c.S,C,a)}const v=d(r,R(p,0,l));return{D:u,S:p,I:v}}}}const{newCard:Kt,gradeCard:Xt}=Ht();function Ct(t){if(!t||typeof t!="string")return[];const e=t.trim().split(`
`).filter(i=>i&&typeof i=="string"&&i.trim());return e.length===0?[]:(e[0].includes("	")&&(e[0].toLowerCase().includes("question")||e[0].toLowerCase().includes("–≤–æ–ø—Ä–æ—Å"))?e.slice(1):e).map(i=>{const o=i.split("	"),r=o[0]||"",l=o[1]||"";return o.length>=5&&o[2]&&o[3]&&o[4]?{question:r,answer:l,D:parseFloat(o[2]),S:parseFloat(o[3]),I:parseFloat(o[4])}:{question:r,answer:l}})}function _t(t){const e="question	answer	D	S	I",n=t.map(i=>{var r,l,s;return[i.question,i.answer,((r=i.D)==null?void 0:r.toString())||"",((l=i.S)==null?void 0:l.toString())||"",((s=i.I)==null?void 0:s.toString())||""].join("	")});return[e,...n].join(`
`)}function pt(t){return t.filter(e=>(e.I,!0))}function Qt(t,e){const n={again:q.AGAIN,hard:q.HARD,good:q.GOOD,easy:q.EASY};let i;t.D!==void 0&&t.S!==void 0&&t.I!==void 0?i={D:t.D,S:t.S,I:t.I}:i=Kt(q.GOOD);const r=Xt(i,1,n[e]);return{question:t.question,answer:t.answer,D:r.D,S:r.S,I:r.I}}var ht;const f=(ht=window.Telegram)==null?void 0:ht.WebApp;function Jt(){return(f==null?void 0:f.version)||"unknown"}function At(){return f?[`Version: ${f.version||"unknown"}`,`Platform: ${f.platform||"unknown"}`,`CloudStorage: ${X()?"supported":"not supported"}`,`MainButton: ${f.MainButton?"available":"not available"}`,`BackButton: ${f.BackButton?"available":"not available"}`].join(", "):"Telegram WebApp not available"}function Zt(){f?(console.log("Telegram WebApp Debug:",At()),f.ready(),f.expand()):console.warn("Telegram WebApp not available - running in browser mode")}function X(){return!!(f!=null&&f.CloudStorage&&typeof f.CloudStorage.setItem=="function"&&typeof f.CloudStorage.getItem=="function")}async function te(t,e){try{X()?await f.CloudStorage.setItem(t,e):localStorage.setItem(t,e)}catch(n){console.warn("CloudStorage failed, using localStorage:",n),localStorage.setItem(t,e)}}async function ee(t){try{if(X()){const e=await f.CloudStorage.getItem(t);return(typeof e=="string"?e:"")||""}else return localStorage.getItem(t)||""}catch(e){return console.warn("CloudStorage failed, using localStorage:",e),localStorage.getItem(t)||""}}function Tt(t,e){f!=null&&f.MainButton&&(f.MainButton.text=t,f.MainButton.onClick(e),f.MainButton.show())}function gt(){f!=null&&f.MainButton&&f.MainButton.hide()}function ne(t){f!=null&&f.BackButton&&(f.BackButton.onClick(t),f.BackButton.show())}function oe(){f!=null&&f.BackButton&&f.BackButton.hide()}var ie=A("<div style=padding:20px;text-align:center;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh><h2>üéâ –ù–µ—Ç –∫–∞—Ä—Ç–æ—á–µ–∫ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è!</h2><p>–í—Å–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –∏–∑—É—á–µ–Ω—ã. –í–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ—Å—å –ø–æ–∑–∂–µ –∏–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–µ.</p><p style=color:#666;font-size:14px;margin-top:10px>–í—Å–µ–≥–æ –∫–∞—Ä—Ç–æ—á–µ–∫: "),re=A('<div style=padding:20px;display:flex;flex-direction:column;height:100vh><div style=margin-bottom:10px;text-align:center;color:#666><span> / </span></div><div style="background:white;border:1px solid #ddd;border-radius:8px;padding:20px;margin-bottom:20px;min-height:200px;display:flex;align-items:center;justify-content:center;text-align:center;cursor:pointer;box-shadow:0 2px 4px rgba(0,0,0,0.1);flex-grow:1"><div><div style=font-size:18px;margin-bottom:20px>'),se=A('<div style="font-size:16px;color:#666;border-top:1px solid #eee;padding-top:20px">'),le=A("<div style=color:#999;font-size:14px>–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –æ—Ç–≤–µ—Ç"),ae=A('<div style="display:grid;grid-template-columns:1fr 1fr;gap:10px"><button style=padding:15px;background:#ff4444;color:white;border:none;border-radius:6px;cursor:pointer;font-size:16px>–°–Ω–æ–≤–∞</button><button style=padding:15px;background:#ff9944;color:white;border:none;border-radius:6px;cursor:pointer;font-size:16px>–¢—Ä—É–¥–Ω–æ</button><button style=padding:15px;background:#44aa44;color:white;border:none;border-radius:6px;cursor:pointer;font-size:16px>–•–æ—Ä–æ—à–æ</button><button style=padding:15px;background:#4444aa;color:white;border:none;border-radius:6px;cursor:pointer;font-size:16px>–õ–µ–≥–∫–æ');const ce=t=>{const[e,n]=E([]),[i,o]=E(0),[r,l]=E(!1);wt(()=>{const x=pt(t.cards);n(x),o(0),l(!1)}),nt(()=>{Tt("–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å",t.onSwitchToEdit)});const s=()=>e()[i()],d=()=>{r()||l(!0)},h=x=>{const w=s();if(!w)return;const m=Qt(w,x),c=t.cards.findIndex(g=>g.question===w.question&&g.answer===w.answer);if(c!==-1&&t.onCardUpdated(m,c),i()<e().length-1)o(i()+1),l(!1);else{const g=pt(t.cards);n(g),o(0),l(!1)}};if(e().length===0)return(()=>{var x=ie(),w=x.firstChild,m=w.nextSibling,c=m.nextSibling;return c.firstChild,y(c,()=>t.cards.length,null),x})();const b=s();return b?(()=>{var x=re(),w=x.firstChild,m=w.firstChild,c=m.firstChild,g=w.nextSibling,a=g.firstChild,u=a.firstChild;return y(m,()=>i()+1,c),y(m,()=>e().length,null),g.$$click=d,y(u,()=>b.question),y(a,(()=>{var p=L(()=>!!r());return()=>p()&&(()=>{var v=se();return y(v,()=>b.answer),v})()})(),null),y(a,(()=>{var p=L(()=>!r());return()=>p()&&le()})(),null),y(x,(()=>{var p=L(()=>!!r());return()=>p()&&(()=>{var v=ae(),C=v.firstChild,I=C.nextSibling,k=I.nextSibling,T=k.nextSibling;return C.$$click=()=>h("again"),I.$$click=()=>h("hard"),k.$$click=()=>h("good"),T.$$click=()=>h("easy"),v})()})(),null),x})():null};it(["click"]);var ue=A(`<div style=padding:20px;display:flex;flex-direction:column;height:100vh><h2 style=margin-bottom:10px>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏</h2><div style=margin-bottom:15px;font-size:14px;color:#666><div style=margin-bottom:5px><strong>–§–æ—Ä–º–∞—Ç:</strong> –í–æ–ø—Ä–æ—Å [TAB] –û—Ç–≤–µ—Ç [TAB] –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ...</div><div style=margin-bottom:5px>–ü—É—Å—Ç—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ = –Ω–æ–≤–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞</div><div style=font-size:12px;color:#999>üíæ –•—Ä–∞–Ω–µ–Ω–∏–µ: </div></div><textarea placeholder="question	answer	D	S	I
Hello	–ü—Ä–∏–≤–µ—Ç			
World	–ú–∏—Ä			
Cat	–ö–æ—Ç			"style="flex-grow:1;width:100%;padding:10px;font-family:monospace;font-size:12px;border:1px solid #ddd;border-radius:4px;resize:none;margin-bottom:15px"></textarea><button class=save-feedback>`);const de=t=>{const[e,n]=E(""),[i,o]=E(!1);nt(()=>{const l=t.cards.length>0?_t(t.cards):`question	answer	D	S	I
Hello	–ü—Ä–∏–≤–µ—Ç			
World	–ú–∏—Ä			
Cat	–ö–æ—Ç			`;n(l),ne(t.onSwitchToStudy),Tt("–°–æ—Ö—Ä–∞–Ω–∏—Ç—å",r)});const r=async()=>{o(!0);try{const l=Ct(e());await t.onCardsUpdated(l);const s=document.querySelector(".save-feedback");s&&(s.textContent="–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ ‚úì",setTimeout(()=>{s.textContent="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"},2e3))}catch(l){console.error("Error saving cards:",l),alert("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö")}o(!1)};return(()=>{var l=ue(),s=l.firstChild,d=s.nextSibling,h=d.firstChild,b=h.nextSibling,x=b.nextSibling;x.firstChild;var w=d.nextSibling,m=w.nextSibling;return y(x,()=>X()?"Telegram Cloud":"–õ–æ–∫–∞–ª—å–Ω–æ–µ",null),w.$$input=c=>n(c.currentTarget.value),m.$$click=r,y(m,()=>i()?"–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...":"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"),F(c=>{var g=i(),a=`padding: 15px; background: ${i()?"#ccc":"#007AFF"}; color: white; border: none; border-radius: 6px; cursor: ${i()?"not-allowed":"pointer"}; font-size: 16px;`;return g!==c.e&&(m.disabled=c.e=g),c.t=jt(m,a,c.t),c},{e:void 0,t:void 0}),F(()=>w.value=e()),l})()};it(["input","click"]);const Et="cards";async function fe(t){await te(Et,t)}async function pe(){return await ee(Et)}var ge=A('<div style=display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;text-align:center;padding:20px><div><div style=font-size:24px;margin-bottom:10px>üìö</div><div style=margin-bottom:15px>–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫...</div><div style="background:#f5f5f5;border-radius:8px;padding:10px;margin:10px 0;max-width:300px;font-size:12px;text-align:left"><div style=font-weight:bold;margin-bottom:5px>–û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:</div></div><button style="margin-top:10px;padding:8px 16px;background:#666;color:white;border:none;border-radius:4px;font-size:12px">–ü–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ç–∞–ª–∏'),he=A('<div style="margin:2px 0;color:#666">'),xe=A('<div style="color:#ff6b6b;margin-top:10px;font-size:14px;background:#fff;padding:8px;border-radius:4px;border:1px solid #ffcdd2">'),be=A("<div style=min-height:100vh;background:#f5f5f5>"),we=A('<div style=padding:20px;font-family:monospace;font-size:12px><h2 style=margin-bottom:20px;font-size:18px>üîç –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2><div style="background:white;border-radius:8px;padding:15px;margin-bottom:15px;border:1px solid #ddd"><h3 style=margin-bottom:10px>–õ–æ–≥–∏ –∑–∞–≥—Ä—É–∑–∫–∏:</h3></div><div style="background:white;border-radius:8px;padding:15px;margin-bottom:15px;border:1px solid #ddd"><h3 style=margin-bottom:10px>–°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:</h3><div>üìä –ö–∞—Ä—Ç–æ—á–µ–∫ –∑–∞–≥—Ä—É–∂–µ–Ω–æ: </div><div>üîÑ –¢–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º: </div><div>‚ùó –û—à–∏–±–∫–∏: </div></div><div style=display:flex;gap:10px;flex-wrap:wrap><button style="padding:10px 20px;background:#007AFF;color:white;border:none;border-radius:6px">–ö –∏–∑—É—á–µ–Ω–∏—é</button><button style="padding:10px 20px;background:#666;color:white;border:none;border-radius:6px">–ö —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—é</button><button style="padding:10px 20px;background:#28a745;color:white;border:none;border-radius:6px">–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å'),ye=A('<div style="margin:3px 0;padding:2px 0;border-bottom:1px solid #f0f0f0">');const me=()=>{const[t,e]=E("study"),[n,i]=E([]),[o,r]=E(!0),[l,s]=E(""),[d,h]=E([]);nt(async()=>{const a=[];a.push("üöÄ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è...");try{Zt(),a.push("‚úÖ Telegram WebApp –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω"),a.push(`üì± –í–µ—Ä—Å–∏—è: ${Jt()}`),a.push("0.1"),a.push(`üîß –î–µ—Ç–∞–ª–∏: ${At()}`)}catch(u){a.push(`‚ùå –û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Telegram: ${u}`)}h([...a]),await b()});const b=async()=>{const a=[...d()];try{s(""),a.push("üìÇ –ù–∞—á–∏–Ω–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É –∫–∞—Ä—Ç–æ—á–µ–∫...");const u=await pe();if(a.push(`üíæ –ó–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ: ${u&&typeof u=="string"?`${u.length} —Å–∏–º–≤–æ–ª–æ–≤`:`—Ç–∏–ø: ${typeof u}, –∑–Ω–∞—á–µ–Ω–∏–µ: ${u}`}`),u&&typeof u=="string"&&u.trim()){const p=Ct(u);if(a.push(`üÉè –†–∞—Å–ø–∞—Ä—Å–µ–Ω–æ –∫–∞—Ä—Ç–æ—á–µ–∫: ${p.length}`),p.length>0)i(p);else{a.push("üìù –î–∞–Ω–Ω—ã–µ –ø—É—Å—Ç—ã, —Å–æ–∑–¥–∞—ë–º –¥–µ–º–æ –∫–∞—Ä—Ç–æ—á–∫–∏...");const v=[{question:"Hello",answer:"–ü—Ä–∏–≤–µ—Ç"},{question:"World",answer:"–ú–∏—Ä"},{question:"Cat",answer:"–ö–æ—Ç"}];i(v),a.push(`‚ú® –°–æ–∑–¥–∞–Ω–æ –¥–µ–º–æ –∫–∞—Ä—Ç–æ—á–µ–∫: ${v.length}`)}}else{a.push("üìù –°–æ–∑–¥–∞—ë–º –¥–µ–º–æ –∫–∞—Ä—Ç–æ—á–∫–∏...");const p=[{question:"Hello",answer:"–ü—Ä–∏–≤–µ—Ç"},{question:"World",answer:"–ú–∏—Ä"},{question:"Cat",answer:"–ö–æ—Ç"}];i(p),a.push(`‚ú® –°–æ–∑–¥–∞–Ω–æ –¥–µ–º–æ –∫–∞—Ä—Ç–æ—á–µ–∫: ${p.length}`)}a.push("‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ"),a.push("üîÑ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º isLoading –≤ false")}catch(u){console.error("Error loading cards:",u),a.push(`‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ${u}`),s("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.");const p=[{question:"Hello",answer:"–ü—Ä–∏–≤–µ—Ç"},{question:"World",answer:"–ú–∏—Ä"},{question:"Cat",answer:"–ö–æ—Ç"}];i(p),a.push(`üîÑ Fallback: —Å–æ–∑–¥–∞–Ω–æ –∫–∞—Ä—Ç–æ—á–µ–∫: ${p.length}`)}h(a),r(!1),console.log("setIsLoading(false) called, cards count:",n().length)},x=async a=>{i(a);const u=_t(a);await fe(u)},w=async(a,u)=>{const p=[...n()];p[u]=a,await x(p)},m=()=>{gt(),e("edit")},c=()=>{gt(),oe(),e("study")},g=()=>{console.log("switchToDebug called, isLoading:",o(),"currentView:",t()),e("debug")};return console.log("App render - isLoading:",o(),"cards:",n().length,"currentView:",t()),o()?(()=>{var a=ge(),u=a.firstChild,p=u.firstChild,v=p.nextSibling,C=v.nextSibling;C.firstChild;var I=C.nextSibling;return y(C,()=>d().map(k=>(()=>{var T=he();return y(T,k),T})()),null),y(u,(()=>{var k=L(()=>!!l());return()=>k()&&(()=>{var T=xe();return y(T,l),T})()})(),I),I.$$click=g,a})():(()=>{var a=be();return y(a,(()=>{var u=L(()=>t()==="study");return()=>u()?tt(ce,{get cards(){return n()},onCardUpdated:w,onSwitchToEdit:m,onSwitchToDebug:g}):L(()=>t()==="edit")()?tt(de,{get cards(){return n()},onCardsUpdated:x,onSwitchToStudy:c}):(()=>{var p=we(),v=p.firstChild,C=v.nextSibling;C.firstChild;var I=C.nextSibling,k=I.firstChild,T=k.nextSibling;T.firstChild;var Q=T.nextSibling;Q.firstChild;var rt=Q.nextSibling;rt.firstChild;var Dt=I.nextSibling,st=Dt.firstChild,lt=st.nextSibling,It=lt.nextSibling;return y(C,()=>d().map(kt=>(()=>{var at=ye();return y(at,kt),at})()),null),y(T,()=>n().length,null),y(Q,t,null),y(rt,()=>l()||"–Ω–µ—Ç",null),st.$$click=c,lt.$$click=m,It.$$click=()=>b(),p})()})()),a})()};it(["click"]);const Se=document.getElementById("root");zt(()=>tt(me,{}),Se);
